(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{426:function(t,a,s){"use strict";s.r(a);var r=s(56),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"音视频同步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#音视频同步"}},[t._v("#")]),t._v(" 音视频同步")]),t._v(" "),s("h2",{attrs:{id:"时间基"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#时间基"}},[t._v("#")]),t._v(" 时间基")]),t._v(" "),s("h4",{attrs:{id:"tbr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tbr"}},[t._v("#")]),t._v(" tbr")]),t._v(" "),s("p",[t._v("tbr: 帧率\n如每秒25帧，每帧的时间间隔 1/25秒")]),t._v(" "),s("h4",{attrs:{id:"tbn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tbn"}},[t._v("#")]),t._v(" tbn")]),t._v(" "),s("p",[t._v("tbn: time base of stream(流的时间基)")]),t._v(" "),s("h4",{attrs:{id:"tbc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tbc"}},[t._v("#")]),t._v(" tbc")]),t._v(" "),s("p",[t._v("tbc: time base of codec(解码的时间基)")]),t._v(" "),s("h2",{attrs:{id:"计算当前帧pts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算当前帧pts"}},[t._v("#")]),t._v(" 计算当前帧PTS")]),t._v(" "),s("ul",[s("li",[t._v("转换为秒\nPTS = PTS * av_q2d(video_stream->time_base)")])]),t._v(" "),s("h2",{attrs:{id:"计算下一帧pts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#计算下一帧pts"}},[t._v("#")]),t._v(" 计算下一帧PTS")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("video_clock:预测的下一睁")])]),t._v(" "),s("li",[s("p",[t._v("frmae_delay: 1/tbr")])]),t._v(" "),s("li",[s("p",[t._v("audio_clock:音频当前播放的时间戳")])])]),t._v(" "),s("h2",{attrs:{id:"音视频同步方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#音视频同步方式"}},[t._v("#")]),t._v(" 音视频同步方式")]),t._v(" "),s("h4",{attrs:{id:"_1、视频同步到音频"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、视频同步到音频"}},[t._v("#")]),t._v(" 1、视频同步到音频")]),t._v(" "),s("h4",{attrs:{id:"_2、音频同步到视频"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、音频同步到视频"}},[t._v("#")]),t._v(" 2、音频同步到视频")]),t._v(" "),s("h4",{attrs:{id:"_3、音频和视频同步到系统时钟"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、音频和视频同步到系统时钟"}},[t._v("#")]),t._v(" 3、音频和视频同步到系统时钟")])])}),[],!1,null,null,null);a.default=e.exports}}]);